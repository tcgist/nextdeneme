(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{5115:function(e,t,s){Promise.resolve().then(s.bind(s,3583)),Promise.resolve().then(s.t.bind(s,2972,23))},3583:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var r=s(7437),a=s(2265),n=s(9376),i=s(338);let l=a.forwardRef(function(e,t){let{title:s,titleId:r,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))});function c(e){let{users:t}=e,s=(0,n.useRouter)(),[c,o]=(0,a.useState)(!1);async function d(e,t){if(confirm('Kullanıcı rol\xfcn\xfc "'.concat(t,'" olarak değiştirmek istediğinizden emin misiniz?'))){o(!0);try{if(!(await fetch("/api/users/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:t})})).ok)throw Error("Rol g\xfcncellenirken bir hata oluştu");s.refresh()}catch(e){console.error(e),alert("Rol g\xfcncellenirken bir hata oluştu")}finally{o(!1)}}}return(0,r.jsx)("div",{className:"bg-white shadow-sm ring-1 ring-gray-900/5 sm:rounded-xl overflow-hidden",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900",children:"Kullanıcı"}),(0,r.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Email"}),(0,r.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Rol"}),(0,r.jsx)("th",{className:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900",children:"Email Doğrulandı"}),(0,r.jsx)("th",{className:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900",children:"Sosyal Hesaplar"}),(0,r.jsx)("th",{className:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900",children:"Kayıt Tarihi"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:t.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,r.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:(0,r.jsx)(i.Z,{className:"h-5 w-5 text-gray-400"})})}),(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.name||"İsimsiz"})})]})}),(0,r.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.email}),(0,r.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:(0,r.jsxs)("select",{value:e.role,onChange:t=>d(e.id,t.target.value),disabled:c,className:"rounded-md border-gray-300 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50",children:[(0,r.jsx)("option",{value:"USER",children:"Kullanıcı"}),(0,r.jsx)("option",{value:"ADMIN",children:"Admin"})]})}),(0,r.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-center",children:e.emailVerified?(0,r.jsx)(l,{className:"h-5 w-5 text-green-500 mx-auto"}):(0,r.jsx)("span",{className:"text-gray-500",children:"-"})}),(0,r.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-center",children:e._count.accounts}),(0,r.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-right text-gray-500",children:new Date(e.createdAt).toLocaleDateString("tr-TR")})]},e.id))})]})})}},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},338:function(e,t,s){"use strict";var r=s(2265);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))});t.Z=a}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=5115)}),_N_E=e.O()}]);